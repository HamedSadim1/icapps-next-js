// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

// model Admin {
//   id               String            @id @default(auto()) @map("_id") @db.ObjectId
//   name             String            @unique
//   email            String            @unique
//   startdate        DateTime          @default(now())
//   enddate          DateTime?
//   stageBegeleiders StageBegeleider[]
//   stagiairs        Stagiair[]
//   stages           Stage[]
// }

model User {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  name      String   @unique
  email     String   @unique
  createdAt DateTime @default(now())
  role      UserRole @default(ADMIN)
}

enum UserRole {
  ADMIN
  STAGIAIR
  STAGEBEGELEIDER
}

model StageBegeleider {
  id        String     @id @default(auto()) @map("_id") @db.ObjectId
  name      String     @unique
  email     String     @unique
  role      UserRole   @default(STAGEBEGELEIDER)
  // stages    Stage[]
  stagiairs Stagiair[]
  // adminId   String     @db.ObjectId
  // admin     Admin      @relation(fields: [adminId], references: [id])
}

model Stagiair {
  id                String          @id @default(auto()) @map("_id") @db.ObjectId
  name              String
  email             String
  role              UserRole        @default(STAGIAIR)
  startDate         DateTime        @default(now())
  endDate           DateTime        @default("2024-01-01T00:00:00.000Z")
  stages            Stage[]
  stagebegeleiderId String[]        @db.ObjectId
  stagebegeleider   StageBegeleider @relation(fields: [stagebegeleiderId], references: [id])
  
  // adminId           String          @db.ObjectId
  // admin             Admin           @relation(fields: [adminId], references: [id])
  // posts             Post[]
}

//! working on it
 model Stage {
   id                String          @id @default(auto()) @map("_id") @db.ObjectId
   beschrijving      String
   school            String
   stagebegeleiderId String          @db.ObjectId
  //  stagebegeleider   StageBegeleider @relation(fields: [stagebegeleiderId], references: [id])
   stagiairId        String          @db.ObjectId
   stagiair          Stagiair        @relation(fields: [stagiairId], references: [id])
  //  adminId           String          @db.ObjectId
//   admin             Admin           @relation(fields: [adminId], references: [id])
 }
//! Doelen , endDatum , startDatum, 
// model Post {
//   id       String    @id @default(auto()) @map("_id") @db.ObjectId
//   slug     String    @unique
//   title    String
//   body     String
// startDate         DateTime        @default(now())
//  endDate           DateTime        @default("2024-01-01T00:00:00.000Z")   
//   author   Stagiair  @relation(fields: [authorId], references: [id])
//   authorId String    @db.ObjectId
//   comments Comment[]
// }

// model Comment {
//   id      String @id @default(auto()) @map("_id") @db.ObjectId
//   comment String
//   post    Post   @relation(fields: [postId], references: [id])
//   postId  String @db.ObjectId
// }
